# 리팩토링 5. 코드 정리하기

**냄새** : 중복 코드

→ “**코드 정리하기**” 를 통해 리팩토링 할 수 있다.

**코드 정리하기 - Slide Statements**

- **`관련있는 코드끼리`** 묶여있어야 코드를 더 쉽게 이해할 수 있다.
    - 코드를 위 아래로 Slide 민다. 라고 보면된다.
    - 관련있는 코드끼리 가까이 두도록 하는 것이다!
- 함수에서 사용할 변수를 상단에 미리 정의하기 보다는
    - 해당 변수를 사용하는 코드 바로 위에서 선언하자.
- 관련있는 코드끼리 묶은 다음, 함수 추출하기(Extract Function)을 사용하여 더 깔끔하게 분리할 수도 있다.

<aside>
🎈 다른 리팩토링 기술을 활용하기 위한 전처리 작업으로 활용되는 리팩토링 기법이라고 볼 수 있다.

</aside>

---



변수를 무의식적으로 가장 상단으로 올리고자 하는 행위가 발생할 수 있다.

**`→ 하지만, 변수는 그 사용하는 곳과 가장 가깝게 배치하는 것이 좋다.`**

- 왜? 코드를 묶어서 볼 수 있기 때문이다.
- 그 묶음을 함수로 추출할 수도 있기 때문이다.

```java
Set<String> usernames = new HashSet<>();
issue.getComments().forEach(c -> usernames.add(c.getUserName()));
return usernames;
```

<aside>
🎈 그렇지 않으면,
코드를 읽어내려가는 와중에 문맥이 섞여버림으로 이해하는데 혼동을 주게 된다. 
- 어디서 쓰이는거지??

</aside>