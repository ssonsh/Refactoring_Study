# 냄새7. 뒤엉킨 변경

### 뒤엉킨 변경 Divergent Change

- 소프트웨어는 변경에 유연하게(soft) 대처할 수 있어야 한다.
- 어떤 한 모듈이 (함수 또는 클래스가) 여러가지 이유로 다양하게 변경되어야 하는 상황
    - 예
        - 새로운 결제 방식을 도입
        - DB를 변경할 때 동일한 클래스에 여러 메소드를 수정해야 하는 경우
- **`서로 다른 문제는 서로 다른 모듈에서 해결해야 한다.`**
    - 모듈의 책임이 분리되어 있을수록 해당 문맥을 더 잘 이해할 수 있으며 다른 문제는 
    신경쓰지 않아도 된다.
- 관련 리팩토링 기술
    - “**단계 쪼개기 (Split Phase)**”를 사용해 서로 다른 문맥의 코드를 분리할 수 있다.
    - “**함수 옮기기 (Move Function)**”를 사용해 적절한 모듈로 함수를 옮길 수 있다.
    - 여러가지 일이 하나의 함수에 모여있다면 “**함수 추출하기 (Extract Function)**”을 사용할 수 있다.
    - 모듈이 클래스 단위라면 “**클래스 추출하기 (Extract Class)**”를 사용해 별도의 클래스로 분리할 수 있다.
    

**응집도를 높이고 결합도를 낮춰야 한다. → 모듈화 한다는 개념으로 볼 수 있다.**

- “**`응집도`**” 얼마나 비슷한 것, 관련있는 것들이 한 곳에 잘 밀집되어 있는가?
- “**`결합도`**” 얼마나 느슨한 의존성을 가지고 있는가? 서로 관련 없는 것들이 너무 타이트하게 맺어져있지 않도록 관리





🎈 그렇지 않다면? 
어떤 변경 사항을 작업하려 하면, 매번 동일한 클래스를 계속 고치게 된다.
- 여러 문제 때문에 하나의 클래스를 계속 고치게 되는 것이다.
어떤 변경 사항을 작업하 려면, 여러 클래스를 이동하며 고쳐야 한다.
