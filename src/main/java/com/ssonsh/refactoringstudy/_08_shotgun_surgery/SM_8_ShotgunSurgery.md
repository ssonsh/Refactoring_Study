# 냄새 8. 산탄총 수술

### 산탄총 수술 Shotgun Surgery

- 어떤 한 변경 사항이 생겼을 떄 여러 모듈을 (여러 함수 또는 여러 클래스)를 수정해야 하는 상황
    - “뒤엉킨 변경” 냄새와 유사하지만 반대의 상황이다.
    - 예
        - 새로운 결제방식을 도입하려면 여러 클래스의 코드를 수정해야 한다.
- 변경사항이 여러 곳에 흩어진다면 찾아서 고치기도 어렵고 중요한 변경 사항을 놓칠 수 있는 가능성도 생긴다.
- 관련 리팩토링 기술
    - “**함수 옮기기(Move Function)**” 또는 “**필드 옮기기(Move Field)**”를 사용해서 필요한 변경 내역을 하나의 클래스로 모을 수 있다.
        - [리팩토링 25. 함수 옮기기](https://www.notion.so/25-fcf63963c6c44abd8fb6bb48bb90325e)
    - 비슷한 데이터를 사용하는 여러 함수가 있다면 “**여러 함수를 클래스로 묶기(Combine Functions into Class)**”를 사용할 수 있다.
        - [리팩토링 16. 여러 함수를 클래스로 묶기](https://www.notion.so/16-e730c6dcf7a8458a8062e2e4d266b560)
    - “**단계 쪼개기 (Split Phase)**”를 사용해 공통으로 사용되는 함수와 결과물들을 하나로 묶을 수 있다.
        - [리팩토링 24. 단계 쪼개기](https://www.notion.so/24-128887a950db42218fc5e0ad10078b28)
    - “**함수 인라인 (Inline Function)**” 과 “**클래스 인라인 (Inline Class)**”로 흩어진 로직을 한 곳으로 모을 수 있다.


어떤 변경사항에 여러 곳을 수정해야 한다면? **코드의 응집도가 낮고, 결합도가 좋지 않다는 것**이다.

- 어딘가 불필요한 결합도가 많이 있거나, 높거나
- 한 곳에 응축되어 있어야 하는 메서드나 클래스들이 있어야 하지만 그렇지 못한 상황인 것이다.